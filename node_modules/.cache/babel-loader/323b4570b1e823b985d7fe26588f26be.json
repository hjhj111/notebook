{"ast":null,"code":"//import { setgroups } from 'process';\nimport axios from 'axios';\nexport default {\n  name: 'NoteBook',\n\n  data() {\n    return {\n      notes: [{\n        text: \"hhhh\"\n      }, {\n        text: \"jjjjj\"\n      }],\n      Address: this.address\n    };\n  },\n\n  props: {\n    address: {\n      default: \"no url for data\"\n    }\n  },\n\n  created() {\n    this.getNotes();\n    console.log(this.notes);\n  },\n\n  methods: {\n    getNotes: function () {\n      console.log(this.address);\n      var self = this; //修改父对象，函数也是对象\n\n      axios.get(this.address).then(function (res) {\n        console.log(res.data);\n        self.notes = res.data;\n        console.log(self.notes);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    addNote: function () {\n      var self = this;\n      console.log(document.getElementById(\"form\").value);\n      axios({\n        method: \"Post\",\n        url: self.address,\n        headers: {\n          'Content-Type': 'text/plain' //application/json会乱码\n\n        },\n        data: {\n          text: document.getElementById(\"form\").value\n        } //data:\"{\\\"text\\\":\\\"更加发奋建安费\\\"}\"\n\n      }).then(function (res) {\n        if (res.status == 201) {\n          //update\n          self.getNotes();\n          alert(\"添加完成\");\n        } else {\n          alert(\"添加失败\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAyBA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,UADO;;EAGbC,IAAI,GAAE;IACJ,OAAM;MACJC,KAAK,EAAC,CACJ;QAACC,IAAI,EAAC;MAAN,CADI,EAEJ;QAACA,IAAI,EAAC;MAAN,CAFI,CADF;MAKJC,OAAO,EAAE,KAAKC;IALV,CAAN;EAOD,CAXY;;EAabC,KAAK,EAAE;IACLD,OAAO,EAAC;MAACE,OAAO,EAAE;IAAV;EADH,CAbM;;EAiBbC,OAAO,GAAE;IACP,KAAKC,QAAL;IACAC,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAjB;EACD,CApBY;;EAsBbU,OAAO,EAAC;IAENH,QAAQ,EAAE,YAAU;MACpBC,OAAO,CAACC,GAAR,CAAY,KAAKN,OAAjB;MACA,IAAIQ,IAAI,GAAC,IAAT,CAFoB,CAEP;;MACbd,KAAK,CAACe,GAAN,CAAU,KAAKT,OAAf,EAAwBU,IAAxB,CAA6B,UAASC,GAAT,EAAa;QAC1CN,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACf,IAAhB;QACAY,IAAI,CAACX,KAAL,GAAWc,GAAG,CAACf,IAAf;QACAS,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACX,KAAjB;MACA,CAJA,EAKEe,KALF,CAKSC,GAAD,IAAO;QACbR,OAAO,CAACC,GAAR,CAAYO,GAAZ;MACD,CAPD;IAQC,CAbK;IAeNC,OAAO,EAAE,YAAU;MACjB,IAAIN,IAAI,GAAC,IAAT;MACAH,OAAO,CAACC,GAAR,CAAYS,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAA5C;MACAvB,KAAK,CAAC;QACJwB,MAAM,EAAC,MADH;QAEJC,GAAG,EAACX,IAAI,CAACR,OAFL;QAGJoB,OAAO,EAAC;UACN,gBAAgB,YADV,CACsB;;QADtB,CAHJ;QAMJxB,IAAI,EAAC;UAACE,IAAI,EAACiB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC;QAAtC,CAND,CAOJ;;MAPI,CAAD,CAAL,CAQGP,IARH,CAQQ,UAASC,GAAT,EAAa;QACnB,IAAGA,GAAG,CAACU,MAAJ,IAAY,GAAf,EAAmB;UACjB;UACAb,IAAI,CAACJ,QAAL;UACAkB,KAAK,CAAC,MAAD,CAAL;QACF,CAJA,MAKI;UACFA,KAAK,CAAC,MAAD,CAAL;QACF;MACD,CAjBD;IAmBF;EArCM;AAtBK,CAAf","names":["axios","name","data","notes","text","Address","address","props","default","created","getNotes","console","log","methods","self","get","then","res","catch","err","addNote","document","getElementById","value","method","url","headers","status","alert"],"sourceRoot":"","sources":["C:\\Users\\黄江\\note_book\\src\\components\\NoteBook.vue"],"sourcesContent":["<!--\n * @Author: hjhj111 2268716068@qq.com\n * @Date: 2022-08-30 12:15:37\n * @LastEditors: hjhj111 2268716068@qq.com\n * @LastEditTime: 2022-08-30 22:30:55\n * @FilePath: \\note_book\\src\\components\\HelloWorld.vue\n * @Description: 这是一个简单基于vue的在线备忘录,结合后端Rester redis使用\n-->\n<template>\n  <div>\n    <h1>数据服务器地址: {{ address }}</h1>\n    <ol style=\"list-style-type:none\">\n      <li v-for=\"note in notes\" :key=\"note.text\">\n        <h2>{{note.text}}</h2>\n        <button>完成待办</button>\n      </li>\n    </ol>\n    <!-- <form action={{this.adress}} method=\"post\"> -->\n      <input type=\"text\"  id=\"form\" placeholder=\"添加待办……\">\n      <input type=\"submit\" value=\"确认添加\" @click=\"addNote\">\n    <!-- </form> -->\n  </div>  \n</template>\n\n<script>\n//import { setgroups } from 'process';\nimport axios from 'axios'\n\nexport default {\n  name: 'NoteBook',\n\n  data(){\n    return{\n      notes:[\n        {text:\"hhhh\"},\n        {text:\"jjjjj\"}\n      ],\n      Address: this.address\n    }    \n  },\n\n  props: {\n    address:{default: \"no url for data\"},    \n  },\n\n  created(){\n    this.getNotes()\n    console.log(this.notes)  \n  },\n  \n  methods:{   \n\n    getNotes: function(){       \n    console.log(this.address)        \n    var self=this//修改父对象，函数也是对象\n    axios.get(this.address).then(function(res){    \n    console.log(res.data)\n    self.notes=res.data\n    console.log(self.notes)  \n    }    \n    ).catch((err)=>{\n      console.log(err)      \n    })    \n    },\n\n    addNote: function(){\n      var self=this\n      console.log(document.getElementById(\"form\").value)\n      axios({\n        method:\"Post\",\n        url:self.address,\n        headers:{\n          'Content-Type': 'text/plain'//application/json会乱码\n        },\n        data:{text:document.getElementById(\"form\").value}\n        //data:\"{\\\"text\\\":\\\"更加发奋建安费\\\"}\"\n      }).then(function(res){\n        if(res.status==201){\n          //update\n          self.getNotes();\n          alert(\"添加完成\");\n        }\n        else{\n          alert(\"添加失败\");\n        }\n      })\n      \n    }\n    \n  }\n}\n\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}