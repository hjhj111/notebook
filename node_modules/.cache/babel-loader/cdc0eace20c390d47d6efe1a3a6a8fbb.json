{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"list-style-type\": \"none\"\n  }\n};\nconst _hoisted_2 = [\"onClick\"];\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  id: \"form\",\n  placeholder: \"添加待办……\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"h1\", null, \"数据服务器地址: \" + _toDisplayString($props.address), 1\n  /* TEXT */\n  ), _createElementVNode(\"ol\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.notes, note => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: note.text\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(note.text), 1\n    /* TEXT */\n    ), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteNote(note)\n    }, \"完成待办\", 8\n    /* PROPS */\n    , _hoisted_2)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createCommentVNode(\" <form action={{this.adress}} method=\\\"post\\\"> \"), _hoisted_3, _createElementVNode(\"input\", {\n    type: \"submit\",\n    value: \"确认添加\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addNote && $options.addNote(...args))\n  }), _createCommentVNode(\" </form> \")]);\n}","map":{"version":3,"mappings":";;EAWQA,KAA4B,EAA5B;IAAA;EAAA;;;;gCAOFC,oBAAmD,OAAnD,EAAmD;EAA5CC,IAAI,EAAC,MAAuC;EAA/BC,EAAE,EAAC,MAA4B;EAArBC,WAAW,EAAC;AAAS,CAAnD;;AAAA;;;uBATJC,oBAYM,KAZN,EAYM,IAZN,EAYM,CAXJJ,oBAA+B,IAA/B,EAA+B,IAA/B,EAAI,cAASK,iBAAGC,cAAH,CAAb,EAAuB;EAAA;EAAvB,CAWI,EAVJN,oBAKK,IALL,cAKK,oBAJHI,oBAGKG,SAHL,EAGK,IAHL,EAGKC,YAHcC,WAGd,EAHMC,IAAa,IAAT;yBAAfN,oBAGK,IAHL,EAGK;MAHsBO,GAAG,EAAED,IAAI,CAACE;IAGhC,CAHL,GACEZ,oBAAsB,IAAtB,EAAsB,IAAtB,EAAsBK,iBAAhBK,IAAI,CAACE,IAAW,CAAtB,EAAe;IAAA;IAAf,GACAZ,oBAA+C,QAA/C,EAA+C;MAAtCa,OAAK,YAAEC,oBAAWJ,IAAX;IAA+B,CAA/C,EAAkC,MAAlC,EAAsC;IAAA;IAAtC,EAAsCK,UAAtC,EAFF;GAGK,CAHL;;EAAA,CAIG,EALL,CAUI,EAJJC,sEAII,EAHFC,UAGE,EAFFjB,oBAAmD,OAAnD,EAAmD;IAA5CC,IAAI,EAAC,QAAuC;IAA9BiB,KAAK,EAAC,MAAwB;IAAhBL,OAAK,yCAAEC,6CAAF;EAAW,CAAnD,CAEE,EADJE,gCACI,CAZN","names":["style","_createElementVNode","type","id","placeholder","_createElementBlock","_toDisplayString","$props","_Fragment","_renderList","$data","note","key","text","onClick","$options","_hoisted_2","_createCommentVNode","_hoisted_3","value"],"sourceRoot":"","sources":["C:\\Users\\黄江\\note_book\\src\\components\\NoteBook.vue"],"sourcesContent":["<!--\n * @Author: hjhj111 2268716068@qq.com\n * @Date: 2022-08-30 12:15:37\n * @LastEditors: hjhj111 2268716068@qq.com\n * @LastEditTime: 2022-08-31 10:55:45\n * @FilePath: \\note_book\\src\\components\\HelloWorld.vue\n * @Description: 这是一个简单基于vue的在线备忘录,结合c++网络库Rester，内存数据库redis使用\n-->\n<template>\n  <div>\n    <h1>数据服务器地址: {{ address }}</h1>\n    <ol style=\"list-style-type:none\">\n      <li v-for=\"note in notes\" :key=\"note.text\">\n        <h2>{{note.text}}</h2>\n        <button @click=\"deleteNote(note)\">完成待办</button>\n      </li>\n    </ol>\n    <!-- <form action={{this.adress}} method=\"post\"> -->\n      <input type=\"text\"  id=\"form\" placeholder=\"添加待办……\">\n      <input type=\"submit\" value=\"确认添加\" @click=\"addNote\">\n    <!-- </form> -->\n  </div>  \n</template>\n\n<script>\n//import { setgroups } from 'process';\nimport axios from 'axios'\n\nexport default {\n  name: 'NoteBook',\n\n  data(){\n    return{\n      notes:[\n        {text:\"hhhh\"},\n        {text:\"jjjjj\"}\n      ],\n      Address: this.address\n    }    \n  },\n\n  props: {\n    address:{default: \"no url for data\"},    \n  },\n\n  created(){\n    this.getNotes()\n    console.log(this.notes)  \n  },\n  \n  methods:{   \n\n    getNotes: function(){       \n    console.log(this.address)        \n    var self=this//修改父对象，函数也是对象\n    axios.get(this.address).then(function(res){    \n    console.log(res.data)\n    self.notes=res.data\n    console.log(self.notes)  \n    }    \n    ).catch((err)=>{\n      console.log(err)      \n    })    \n    },\n\n    addNote: function(){\n      var self=this\n      console.log(document.getElementById(\"form\").value)\n      axios({\n        method:\"Post\",\n        url:self.address,\n        headers:{\n          'Content-Type': 'text/plain'//application/json\n        },\n        data:{text:document.getElementById(\"form\").value}\n        //data:\"{\\\"text\\\":\\\"更加发奋建安费\\\"}\"\n      }).then(function(res){\n        if(res.status==201){\n          //update\n          self.getNotes();\n          alert(\"添加完成\");\n        }\n        else{\n          alert(\"添加失败\");\n        }\n      })\n      \n    },\n    \n    deleteNote: function(note){\n      var self=this\n      axios({\n        method:\"Delete\",\n        url:self.address,\n        data:note\n      }).then(function(res){\n        if(res.status==201){\n          //update\n          self.getNotes()\n          alert(\"删除成功\")\n        }\n        else{\n          alert(\"删除失败\")\n        }\n      })\n    }\n  }\n}\n\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}